extends inc/head.jade

block title
    title Choose your battlefield
block styles
    link(rel='stylesheet', href='/stylesheets/font-awesome.min.css')

block content

    section#rankings-overlay.rankings-overlay
        span#close-rankings.close-rankings.fa.fa-times(aria-hidden="true")
        h2 Classements
        ul.rankings-tabs
            li#general-ranking-tab Général
            li#month-ranking-tab Flottant
        include inc/ranking.jade

    section#stats-overlay.stats-overlay
        span#close-stats.close-stats.fa.fa-times(aria-hidden="true")
        h2 Statistiques
        ul.stats-tabs
            li#general-stats-tab Général
            li#month-stats-tab Flottant
            li#score-stats-tab Score
        include inc/stats.jade

    section#switching-content.switching-content
        include inc/header.jade

        section.content 
            include inc/player-info.jade

            h1 Salles de jeu

            h2 Créez votre propre salle
            input#room-name(type='text', placeholder='Nom de la salle') 
            button#create-room.button-effect Créer une salle
        
            h2 Rejoignez une salle

            p.rooms-count x salles disponibles
            ul#rooms.rooms-list

    script(src='/socket.io/socket.io.js')
    script(src='/javascripts/prototype.js')
    script(src='/javascripts/ajax.js')
    script(src='/javascripts/navigation.js')
    script(src='/javascripts/pages/rooms.js')
    script.
        var rankingOverlay = document.getElementById('rankings-overlay');
        var statsOverlay = document.getElementById('stats-overlay');

        document.getElementById('rankings-link').addEventListener('click', function(e) {
            e.preventDefault();
            rankingOverlay.addClass('opened');
        });

        document.getElementById('close-rankings').addEventListener('click', function() {
            rankingOverlay.removeClass('opened');
        });

        document.getElementById('stats-link').addEventListener('click', function(e) {
            e.preventDefault();
            statsOverlay.addClass('opened');
        });

        document.getElementById('close-stats').addEventListener('click', function() {
            statsOverlay.removeClass('opened');
        });

        document.getElementById('profil-link').addEventListener('click', function(e) {
            e.preventDefault();
            if (confirm('Il vous faut quitter la partie pour modifier vos informations, voulez-vous continuer ?'))
                document.location.href = this.href;
        });